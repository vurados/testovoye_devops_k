{
  "version": 4,
  "terraform_version": "1.12.0",
  "serial": 81,
  "lineage": "0887ad3d-84a8-87a8-d854-5f7e4f239f6f",
  "outputs": {
    "ansible_inventory": {
      "value": "[vm]\n192.168.122.234 ansible_user=ansible ansible_ssh_private_key_file=~/.ssh/id_rsa ansible_python_interpreter=/usr/bin/python3\n",
      "type": "string"
    },
    "vm_ip": {
      "value": "192.168.122.234",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "template_file",
      "name": "meta_data",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "badf1a99ef365019f5e91b76629eddd5444a2ab7d35f1188590985f2e64c9388",
            "rendered": "instance-id: almalinux9\nlocal-hostname: almalinux9\n",
            "template": "instance-id: ${instance-id}\nlocal-hostname: ${local-hostname}\n",
            "vars": {
              "instance-id": "almalinux9",
              "local-hostname": "almalinux9"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "user_data",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "8c0f247a2627973a6d157d5e9be94e4da8f6ca027ffc44e38837c700588b0eb3",
            "rendered": "#cloud-config\ngrowpart:\n  mode: auto\n  devices: [\"/\"]\n  ignore_growroot_disabled: false\n\nresize_rootfs: noblock\n\nchpasswd:\n  expire: false\nssh_pwauth: true\ndisable_root: false\n\ngroups:\n  - microservice\n\nusers:\n  - default\n  - name: ansible\n    shell: /bin/bash\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: adm,wheel,microservice\n    passwd: $6$T6g./2x.fLBA4KRO$uSQy6XVsvwccGb.JEaICrPlu7HKnjbDTyG9XtjiaETNaAZ5mnnUZb5qdoF9GGHRIoNQY0pS/OnkTinYfqeFye0\n    lock_passwd: false\n    ssh_authorized_keys: [\"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCIgnWrAIcQooT1GY1Y/HUSXyE5lzUKSKjXPorVdqdmjraYWk0zu1fNuEtqD7NjP8sWBZzHukeS9SIAu142U0vhNVUI63yy0dInSVSLtyYkbQwxW6UQKPONY/tpPbwrmN7xk6JzJ5Gk+ZlhUgsEptD6jlYPFenNvKCRSow5SFHPKmuA6voG+LKWeN7RvJ56ZFHar93PLr3jHwLArFXFNJYl8rt3yk+jkc+B29YvL5qqYn4UKLEiSIt3SC5ynjhtdvGcB79wi54xmoafhdwB2nyxrM1rHIjDsIboDAZCxwAfRORpOMbGNqyMQRwDN3ZWs2Pn8usvhZmUAVYVBIUmR8Y4l9FT7z0jFSmmZPcGP33ecq+NKIimDSh7oklx99ZqpaDL+HPQNZWPPJAc6IcXaV+Y0pE2qTuX26QJD3tXg4mcKaj/J1Q5+QNy10gTRMtnptyTj8A4gZ2whb9hntvqEs8FHaofLuasu/1nFSWMe6oCUZancM/SF2bV22EzJ3eY2wk= vurados@nixos\"]\n  - name: microservice\n    shell: /bin/bash\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: adm,wheel,microservice\n    lock_passwd: true\n  - name: root\n    passwd: $6$T6g./2x.fLBA4KRO$uSQy6XVsvwccGb.JEaICrPlu7HKnjbDTyG9XtjiaETNaAZ5mnnUZb5qdoF9GGHRIoNQY0pS/OnkTinYfqeFye0\n    ssh_authorized_keys: []\n\ntimezone: Europe/London\n\n# package_update: true\n# Below upgrades packages\n# package_upgrade: true\n\nruncmd:\n  - [ /etc/rc.d/rc.local.rebootonce ]\n",
            "template": "#cloud-config\ngrowpart:\n  mode: auto\n  devices: [\"/\"]\n  ignore_growroot_disabled: false\n\nresize_rootfs: noblock\n\nchpasswd:\n  expire: false\nssh_pwauth: true\ndisable_root: false\n\ngroups:\n  - microservice\n\nusers:\n  - default\n  - name: ansible\n    shell: /bin/bash\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: adm,wheel,microservice\n    passwd: ${ansible_passwd}\n    lock_passwd: false\n    ssh_authorized_keys: ${ansible_ssh_keys}\n  - name: microservice\n    shell: /bin/bash\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: adm,wheel,microservice\n    lock_passwd: true\n  - name: root\n    passwd: ${root_passwd}\n    ssh_authorized_keys: ${root_ssh_keys}\n\ntimezone: Europe/London\n\n# package_update: true\n# Below upgrades packages\n# package_upgrade: true\n\nruncmd:\n  - [ /etc/rc.d/rc.local.rebootonce ]\n",
            "vars": {
              "ansible_passwd": "$6$T6g./2x.fLBA4KRO$uSQy6XVsvwccGb.JEaICrPlu7HKnjbDTyG9XtjiaETNaAZ5mnnUZb5qdoF9GGHRIoNQY0pS/OnkTinYfqeFye0",
              "ansible_ssh_keys": "[\"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCIgnWrAIcQooT1GY1Y/HUSXyE5lzUKSKjXPorVdqdmjraYWk0zu1fNuEtqD7NjP8sWBZzHukeS9SIAu142U0vhNVUI63yy0dInSVSLtyYkbQwxW6UQKPONY/tpPbwrmN7xk6JzJ5Gk+ZlhUgsEptD6jlYPFenNvKCRSow5SFHPKmuA6voG+LKWeN7RvJ56ZFHar93PLr3jHwLArFXFNJYl8rt3yk+jkc+B29YvL5qqYn4UKLEiSIt3SC5ynjhtdvGcB79wi54xmoafhdwB2nyxrM1rHIjDsIboDAZCxwAfRORpOMbGNqyMQRwDN3ZWs2Pn8usvhZmUAVYVBIUmR8Y4l9FT7z0jFSmmZPcGP33ecq+NKIimDSh7oklx99ZqpaDL+HPQNZWPPJAc6IcXaV+Y0pE2qTuX26QJD3tXg4mcKaj/J1Q5+QNy10gTRMtnptyTj8A4gZ2whb9hntvqEs8FHaofLuasu/1nFSWMe6oCUZancM/SF2bV22EzJ3eY2wk= vurados@nixos\"]",
              "root_passwd": "$6$T6g./2x.fLBA4KRO$uSQy6XVsvwccGb.JEaICrPlu7HKnjbDTyG9XtjiaETNaAZ5mnnUZb5qdoF9GGHRIoNQY0pS/OnkTinYfqeFye0",
              "root_ssh_keys": "[]"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_cloudinit_disk",
      "name": "alma9_cloudinit_disk",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/var/lib/libvirt/images/alma9_cloudinit_disk.iso;18d7df4f-7c8f-4eb8-b2a0-c44c0f1ee300",
            "meta_data": "instance-id: almalinux9\nlocal-hostname: almalinux9\n",
            "name": "alma9_cloudinit_disk.iso",
            "network_config": "",
            "pool": "default",
            "user_data": "#cloud-config\ngrowpart:\n  mode: auto\n  devices: [\"/\"]\n  ignore_growroot_disabled: false\n\nresize_rootfs: noblock\n\nchpasswd:\n  expire: false\nssh_pwauth: true\ndisable_root: false\n\ngroups:\n  - microservice\n\nusers:\n  - default\n  - name: ansible\n    shell: /bin/bash\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: adm,wheel,microservice\n    passwd: $6$T6g./2x.fLBA4KRO$uSQy6XVsvwccGb.JEaICrPlu7HKnjbDTyG9XtjiaETNaAZ5mnnUZb5qdoF9GGHRIoNQY0pS/OnkTinYfqeFye0\n    lock_passwd: false\n    ssh_authorized_keys: [\"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCIgnWrAIcQooT1GY1Y/HUSXyE5lzUKSKjXPorVdqdmjraYWk0zu1fNuEtqD7NjP8sWBZzHukeS9SIAu142U0vhNVUI63yy0dInSVSLtyYkbQwxW6UQKPONY/tpPbwrmN7xk6JzJ5Gk+ZlhUgsEptD6jlYPFenNvKCRSow5SFHPKmuA6voG+LKWeN7RvJ56ZFHar93PLr3jHwLArFXFNJYl8rt3yk+jkc+B29YvL5qqYn4UKLEiSIt3SC5ynjhtdvGcB79wi54xmoafhdwB2nyxrM1rHIjDsIboDAZCxwAfRORpOMbGNqyMQRwDN3ZWs2Pn8usvhZmUAVYVBIUmR8Y4l9FT7z0jFSmmZPcGP33ecq+NKIimDSh7oklx99ZqpaDL+HPQNZWPPJAc6IcXaV+Y0pE2qTuX26QJD3tXg4mcKaj/J1Q5+QNy10gTRMtnptyTj8A4gZ2whb9hntvqEs8FHaofLuasu/1nFSWMe6oCUZancM/SF2bV22EzJ3eY2wk= vurados@nixos\"]\n  - name: microservice\n    shell: /bin/bash\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    groups: adm,wheel,microservice\n    lock_passwd: true\n  - name: root\n    passwd: $6$T6g./2x.fLBA4KRO$uSQy6XVsvwccGb.JEaICrPlu7HKnjbDTyG9XtjiaETNaAZ5mnnUZb5qdoF9GGHRIoNQY0pS/OnkTinYfqeFye0\n    ssh_authorized_keys: []\n\ntimezone: Europe/London\n\n# package_update: true\n# Below upgrades packages\n# package_upgrade: true\n\nruncmd:\n  - [ /etc/rc.d/rc.local.rebootonce ]\n"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.meta_data",
            "data.template_file.user_data"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_domain",
      "name": "alma9",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arch": "x86_64",
            "autostart": false,
            "boot_device": [],
            "cloudinit": "/var/lib/libvirt/images/alma9_cloudinit_disk.iso;18d7df4f-7c8f-4eb8-b2a0-c44c0f1ee300",
            "cmdline": null,
            "console": [
              {
                "source_host": "127.0.0.1",
                "source_path": "",
                "source_service": "0",
                "target_port": "0",
                "target_type": "virtio",
                "type": "pty"
              }
            ],
            "coreos_ignition": null,
            "cpu": [
              {
                "mode": "host-passthrough"
              }
            ],
            "description": "",
            "disk": [
              {
                "block_device": "",
                "file": "",
                "scsi": false,
                "url": "",
                "volume_id": "/var/lib/libvirt/images/Golden_Alma_9_5-TF.qcow2",
                "wwn": ""
              }
            ],
            "emulator": "/run/libvirt/nix-emulators/qemu-system-x86_64",
            "filesystem": [],
            "firmware": null,
            "fw_cfg_name": "opt/com.coreos/config",
            "graphics": [
              {
                "autoport": true,
                "listen_address": "127.0.0.1",
                "listen_type": "address",
                "type": "spice",
                "websocket": 0
              }
            ],
            "id": "d5cbca98-7b2a-4ff2-aba5-67e262c428ee",
            "initrd": "",
            "kernel": "",
            "machine": "pc",
            "memory": 4096,
            "metadata": null,
            "name": "Golden_Alma_9_5-TF",
            "network_interface": [
              {
                "addresses": [
                  "192.168.122.234"
                ],
                "bridge": "",
                "hostname": "",
                "mac": "52:54:00:FA:F9:77",
                "macvtap": "",
                "network_id": "3f2d40e3-26a3-49f5-b1d0-bf311ce8683c",
                "network_name": "default",
                "passthrough": "",
                "vepa": "",
                "wait_for_lease": true
              }
            ],
            "nvram": null,
            "qemu_agent": false,
            "running": true,
            "timeouts": null,
            "tpm": [],
            "type": "kvm",
            "vcpu": 2,
            "video": [],
            "xml": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.template_file.meta_data",
            "data.template_file.user_data",
            "libvirt_cloudinit_disk.alma9_cloudinit_disk",
            "libvirt_volume.alma9_qcow2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_volume",
      "name": "alma9_qcow2",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base_volume_id": null,
            "base_volume_name": null,
            "base_volume_pool": null,
            "format": "qcow2",
            "id": "/var/lib/libvirt/images/Golden_Alma_9_5-TF.qcow2",
            "name": "Golden_Alma_9_5-TF.qcow2",
            "pool": "default",
            "size": 10737418240,
            "source": "/home/vurados/Downloads/AlmaLinux-9-GenericCloud-9.6-20250522.x86_64.qcow2",
            "xml": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    }
  ],
  "check_results": null
}
